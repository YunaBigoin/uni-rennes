import"./main-dff46d0e.js";import{b as c}from"./init-7741dda9.js";console.info("Script started successfully");WA.onInit().then(async()=>{WA.player.state.tutorialDone=!0;const o=new URL(WA.room.mapURL);WA.room.onEnterLayer("to-hall").subscribe(()=>{WA.ui.actionBar.removeButton("Tableau"),WA.ui.actionBar.removeButton("Briefing")});for(let e=1;e<6;e++)WA.player.state.saveVariable(`Enigme${e}`,0,{public:!0,persist:!0,ttl:60*35,scope:"room"});WA.players.onVariableChange("Enigme1").subscribe(e=>{WA.player.state.Enigme1=e.value}),WA.players.onVariableChange("Enigme2").subscribe(e=>{WA.player.state.Enigme2=e.value}),WA.players.onVariableChange("Enigme3").subscribe(e=>{WA.player.state.Enigme3=e.value}),WA.players.onVariableChange("Enigme4").subscribe(e=>{WA.player.state.Enigme4=e.value}),WA.players.onVariableChange("Enigme5").subscribe(e=>{WA.player.state.Enigme5=e.value});function i(e){WA.room.area.onEnter(e).subscribe(()=>{WA.ui.modal.openModal({title:e,src:`${o.protocol}//${o.host}${o.protocol==="https:"?"/uni-rennes/":"/"}EGFeminisme/${e}.html`,allowApi:!0,allow:"microphone; camera",position:"center"},()=>{WA.ui.modal.closeModal()})}),WA.room.area.onLeave(e).subscribe(()=>{WA.ui.modal.closeModal()})}const r=["E1","E2","E3","E4","E4B","E5","E6"];for(let e of r)i(e);let t=await WA.ui.website.open({url:"https://www.youtube.com/embed/aFZ4mV52XFE?si=9vaLPfWDeUxbN3Xf&autoplay=1;&amp;controls=0&amp;",visible:!0,allowApi:!1,allowPolicy:"autoplay",position:{vertical:"top",horizontal:"right"},size:{height:"20vh",width:"20vw"},margin:{right:"2vw",top:"5vh"}});t.visible=!1,t.visible=!0;let a=!0;WA.ui.actionBar.addButton({id:"Tableau",type:"button",label:"Tableau de bord",callback:async()=>{a?WA.ui.modal.openModal({title:"Tableau de bord",src:`${o.protocol}//${o.host}${o.protocol==="https:"?"/uni-rennes/":"/"}EGFeminisme/Tableau_de_bord.html`,allowApi:!0,allow:"",position:"center"},()=>{WA.ui.modal.closeModal()}):WA.ui.modal.closeModal(),a=!a}});const s=["1,2,3 Retracez l'histoire de la lutte féministe grâce à quelques grandes figures. N’oubliez pas le symbole de la relique","Le symbole de Vénus peut livrer ses mystères en morceaux. Deuxième énigme !","Des questions à répondre pour un coffret à 3 chiffres à ouvrir ! N’oubliez pas le symbole de la relique !","Une clé à trouver… La bibliothèque pourrait-elle vous aider ? Enigme n°4… N’oubliez pas le symbole et le titre de la relique !","Deux groupes vont vous donner un code de 5 lettres. La relique de l’énigme n° 5 est un peu particulière..."];let l=0;function n(e){return new Promise(u=>setTimeout(u,e))}for(;;)WA.ui.banner.openBanner({id:"banner-test",text:s[l%4],bgColor:"#272727",textColor:"#ffffff",closable:!1,timeToClose:30*60*1e3}),l++,await n(5e4);c().then(()=>{console.info("Scripting API Extra ready"),WA.controls.disablePlayerProximityMeeting()}).catch(e=>console.error(e))});
